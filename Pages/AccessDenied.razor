@page "/access-denied"
@attribute [AllowAnonymous]
@inject NavigationManager Navigation

<div class="d-flex justify-content-center align-items-center vh-100 bg-light">
    <div class="card shadow-sm p-5 text-center" style="max-width: 500px; width: 100%;">

        <div class="mb-4 text-danger">
            <i class="bi bi-shield-lock-fill" style="font-size: 3rem;"></i>
        </div>

        <h2 class="fw-bold">Access Denied</h2>

        <p class="text-muted mt-3">
            You do not have permission to access this page.
            If you believe this is a mistake, please contact the system administrator.
        </p>

        <div class="mt-4 d-flex justify-content-center">
            <button class="btn btn-primary"
                    @onclick="GoBack">
                Return to Dashboard
            </button>

            @* <a class="btn btn-primary"
               href="/">
                Return to Dashboard
            </a> *@
        </div>
    </div>
</div>


@inject SharedServices sharedServices
@code {
    string role = "";

    protected override async Task OnInitializedAsync()
    {
        var claims = await sharedServices.GetClaims();
        role = claims.Role;
    }

    private void GoBack()
    {
        Navigation.NavigateTo($"/{role}", true);
    }
}
